<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Vehicle | TravelMate</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: "Poppins", sans-serif;
        }
        .glass {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(14px);
            border: 1px solid rgba(255, 255, 255, 0.25);
        }
    </style>

    <script>
        function previewImages(event) {
            const files = event.target.files;
            if (!files.length) return;

            const previewContainer = document.getElementById("previewContainer");
            const previewGrid = document.getElementById("imagePreviewGrid");

            previewGrid.innerHTML = "";
            previewContainer.classList.remove("hidden");

            Array.from(files).forEach(file => {
                const img = document.createElement("img");
                img.src = URL.createObjectURL(file);
                img.className =
                    "w-full h-32 object-cover rounded-xl border border-white/30 shadow";
                previewGrid.appendChild(img);
            });
        }
    </script>
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-800 text-white">

<!-- Navbar -->
<nav class="glass px-6 py-4 flex justify-between items-center">
    <h1 class="text-xl font-bold">TravelMate</h1>
    <a href="home.html" class="text-sm text-blue-300 hover:underline">
        ← Back to Home
    </a>
</nav>

<!-- Main -->
<main class="max-w-3xl mx-auto p-6">

    <div class="glass rounded-2xl p-6">
        <h2 class="text-2xl font-semibold mb-2">Add Vehicle</h2>
        <p class="text-sm text-gray-300 mb-6">
            Enter vehicle details to list it for rental
        </p>

        <form method="POST" enctype="multipart/form-data" class="space-y-5">
            {% csrf_token %}

            {% for msg in messages %}
                <div class="bg-green-500 text-white p-2 rounded">
                    {{ msg }}
                </div>
            {% endfor %}

            <!-- Vehicle Name -->
            <div>
                <label class="block text-sm mb-1">Vehicle Name / Model</label>
                <input type="text" name="vehicle_name" required
                    class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-400">
            </div>

            <!-- Vehicle Type -->
            <div>
                <label class="block text-sm mb-1">Vehicle Type</label>
                <select name="vehicle_type" required
                    class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-400">
                    <option class="text-black">Select Vehicle Type</option>
                    <option class="text-black">Hatchback</option>
                    <option class="text-black">Sedan</option>
                    <option class="text-black">SUV</option>
                    <option class="text-black">Tempo Traveller</option>
                    <option class="text-black">Bike</option>
                </select>
            </div>

            <!-- Registration -->
            <div>
                <label class="block text-sm mb-1">Registration Number</label>
                <input type="text" name="registration_number" required
                    class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30">
            </div>

            <!-- Seating -->
            <div>
                <label class="block text-sm mb-1">Seating Capacity</label>
                <input type="number" name="seating_capacity" required
                    class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30">
            </div>

            <!-- Price -->
            <div>
                <label class="block text-sm mb-1">Price Per Day (₹)</label>
                <input type="number" name="price_per_day" required
                    class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30">
            </div>

            <!-- Availability -->
            <div>
                <label class="block text-sm mb-1">Availability</label>
                <select name="availability"
                    class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30">
                    <option class="text-black" value="True">Available</option>
                    <option class="text-black" value="False">Unavailable</option>
                </select>
            </div>

            <!-- Multiple Image Upload -->
            <div>
                <label class="block text-sm mb-2">Vehicle Images</label>

                <label for="vehicleImages"
                    class="glass flex flex-col items-center justify-center w-full h-48 rounded-xl cursor-pointer
                           hover:bg-white/20 transition border border-dashed border-white/40">

                    <svg class="w-10 h-10 mb-2 text-white/80" fill="none" stroke="currentColor"
                        stroke-width="1.5" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 7.5m0 0L7.5 12m4.5-4.5V16.5"/>
                    </svg>

                    <p class="text-sm text-gray-200">Click to upload or drag & drop</p>
                    <p class="text-xs text-gray-400 mt-1">PNG, JPG (Multiple allowed)</p>

                    <input id="vehicleImages" type="file" name="vehicle_images"
                        accept="image/*" multiple required class="hidden"
                        onchange="previewImages(event)">
                </label>

                <!-- Preview -->
                <div class="mt-4 hidden" id="previewContainer">
                    <p class="text-sm text-gray-300 mb-2">Preview</p>
                    <div id="imagePreviewGrid"
                        class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                    </div>
                </div>
            </div>

            <!-- Submit -->
            <div class="pt-4 flex justify-end">
                <button type="submit"
                    class="px-6 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 font-semibold">
                    Add Vehicle
                </button>
            </div>

        </form>
    </div>

</main>

</body>
</html>
