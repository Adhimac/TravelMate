{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ traveler.Name }} | TravelMate</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --primary:#1e3a8a;
      --accent:#ff5a5f;
    }
    .btn-accent{
      background:var(--accent);
      color:white;
    }
  </style>
</head>

<body class="bg-gray-100 text-gray-800">

<!-- HEADER -->
<header class="bg-white border-b sticky top-0 z-30">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href="{% url 'profileList' %}"
       class="text-sm text-gray-600 hover:text-[var(--primary)]">
      ← Back to Travelers
    </a>
    <h1 class="font-bold text-[var(--primary)]">Traveler Profile</h1>
  </div>
</header>

<!-- PROFILE CARD -->
<section class="max-w-5xl mx-auto px-6 py-10">

  <div class="bg-white rounded-3xl border shadow-sm p-8">

    <!-- TOP -->
    <div class="flex flex-col md:flex-row gap-8">

      <!-- IMAGE -->
      <div class="flex-shrink-0">
        <img src="{{ traveler.photo.url|default:'https://i.pravatar.cc/300' }}"
             class="w-44 h-44 rounded-2xl object-cover shadow">
      </div>

      <!-- BASIC INFO -->
      <div class="flex-1">
        <h2 class="text-3xl font-bold">
          {{ traveler.Name }}
        </h2>

        <p class="mt-2 text-gray-500">
          {{ traveler.age }} years • {{ traveler.gender }}
        </p>

        <p class="mt-1 text-gray-500">
          Destination: <strong>{{ traveler.destination }}</strong>
        </p>

        <!-- TAGS -->
        <div class="mt-4 flex flex-wrap gap-2">
          {% for tag in traveler.interests_list %}
          <span class="text-xs bg-gray-100 px-3 py-1 rounded-full">
            {{ tag }}
          </span>
          {% endfor %}
        </div>

        <!-- ACTION -->
        <div class="mt-6">
  {% if traveler.connected %}
  <span class="inline-block bg-green-100 text-green-700 px-4 py-2 rounded-xl font-semibold">
    Connected
  </span>
{% else %}
  <form method="post" action="{% url 'connect_traveler' traveler.id %}">
    {% csrf_token %}
    <button type="submit"
            class="btn-accent px-6 py-3 rounded-xl font-semibold shadow">
      Connect with {{ traveler.Name }}
    </button>
  </form>
{% endif %}


        </div>
      </div>
    </div>

    <!-- BIO -->
    <div class="mt-10">
      <h3 class="font-semibold text-lg text-[var(--primary)]">
        About
      </h3>
      <p class="mt-3 text-gray-700 leading-relaxed">
        {{ traveler.bio }}
      </p>
    </div>

    <!-- EXTRA INFO -->
    <div class="mt-10 grid sm:grid-cols-2 gap-6">

      <div class="p-5 border rounded-xl">
        <h4 class="font-semibold">Travel Style</h4>
        <p class="text-sm text-gray-600 mt-2">
          {{ traveler.travel_style|default:"Not specified" }}
        </p>
      </div>

      <div class="p-5 border rounded-xl">
        <h4 class="font-semibold">Last Active</h4>
        <p class="text-sm text-gray-600 mt-2">
          {{ traveler.last_active|timesince }} ago
        </p>
      </div>

    </div>

  </div>

</section>

<!-- FOOTER -->
<footer class="bg-white border-t">
  <div class="max-w-7xl mx-auto px-6 py-6 text-sm text-gray-500 flex justify-between">
    <span>© 2025 TravelMate</span>
    <span>Travel together, safer</span>
  </div>
</footer>

</body>
</html>
